{"ast":null,"code":"import _get from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _classCallCheck from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/minhas-receitas/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var VirtualTimeScheduler = /*#__PURE__*/function (_AsyncScheduler) {\n  _inherits(VirtualTimeScheduler, _AsyncScheduler);\n\n  var _super = _createSuper(VirtualTimeScheduler);\n\n  function VirtualTimeScheduler() {\n    var _this;\n\n    var schedulerActionCtor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : VirtualAction;\n    var maxFrames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Infinity;\n\n    _classCallCheck(this, VirtualTimeScheduler);\n\n    _this = _super.call(this, schedulerActionCtor, function () {\n      return _this.frame;\n    });\n    _this.maxFrames = maxFrames;\n    _this.frame = 0;\n    _this.index = -1;\n    return _this;\n  }\n\n  _createClass(VirtualTimeScheduler, [{\n    key: \"flush\",\n    value: function flush() {\n      var actions = this.actions,\n          maxFrames = this.maxFrames;\n      var error;\n      var action;\n\n      while ((action = actions[0]) && action.delay <= maxFrames) {\n        actions.shift();\n        this.frame = action.delay;\n\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      }\n\n      if (error) {\n        while (action = actions.shift()) {\n          action.unsubscribe();\n        }\n\n        throw error;\n      }\n    }\n  }]);\n\n  return VirtualTimeScheduler;\n}(AsyncScheduler);\nVirtualTimeScheduler.frameTimeFactor = 10;\nexport var VirtualAction = /*#__PURE__*/function (_AsyncAction) {\n  _inherits(VirtualAction, _AsyncAction);\n\n  var _super2 = _createSuper(VirtualAction);\n\n  function VirtualAction(scheduler, work) {\n    var _this2;\n\n    var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : scheduler.index += 1;\n\n    _classCallCheck(this, VirtualAction);\n\n    _this2 = _super2.call(this, scheduler, work);\n    _this2.scheduler = scheduler;\n    _this2.work = work;\n    _this2.index = index;\n    _this2.active = true;\n    _this2.index = scheduler.index = index;\n    return _this2;\n  }\n\n  _createClass(VirtualAction, [{\n    key: \"schedule\",\n    value: function schedule(state) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (Number.isFinite(delay)) {\n        if (!this.id) {\n          return _get(_getPrototypeOf(VirtualAction.prototype), \"schedule\", this).call(this, state, delay);\n        }\n\n        this.active = false;\n        var action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n      } else {\n        return Subscription.EMPTY;\n      }\n    }\n  }, {\n    key: \"requestAsyncId\",\n    value: function requestAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this.delay = scheduler.frame + delay;\n      var actions = scheduler.actions;\n      actions.push(this);\n      actions.sort(VirtualAction.sortActions);\n      return true;\n    }\n  }, {\n    key: \"recycleAsyncId\",\n    value: function recycleAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      return undefined;\n    }\n  }, {\n    key: \"_execute\",\n    value: function _execute(state, delay) {\n      if (this.active === true) {\n        return _get(_getPrototypeOf(VirtualAction.prototype), \"_execute\", this).call(this, state, delay);\n      }\n    }\n  }], [{\n    key: \"sortActions\",\n    value: function sortActions(a, b) {\n      if (a.delay === b.delay) {\n        if (a.index === b.index) {\n          return 0;\n        } else if (a.index > b.index) {\n          return 1;\n        } else {\n          return -1;\n        }\n      } else if (a.delay > b.delay) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n  }]);\n\n  return VirtualAction;\n}(AsyncAction);","map":{"version":3,"names":["AsyncAction","Subscription","AsyncScheduler","VirtualTimeScheduler","schedulerActionCtor","VirtualAction","maxFrames","Infinity","frame","index","actions","error","action","delay","shift","execute","state","unsubscribe","frameTimeFactor","scheduler","work","active","Number","isFinite","id","add","schedule","EMPTY","push","sort","sortActions","undefined","a","b"],"sources":["C:/minhas-receitas/node_modules/rxjs/dist/esm/internal/scheduler/VirtualTimeScheduler.js"],"sourcesContent":["import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport class VirtualTimeScheduler extends AsyncScheduler {\n    constructor(schedulerActionCtor = VirtualAction, maxFrames = Infinity) {\n        super(schedulerActionCtor, () => this.frame);\n        this.maxFrames = maxFrames;\n        this.frame = 0;\n        this.index = -1;\n    }\n    flush() {\n        const { actions, maxFrames } = this;\n        let error;\n        let action;\n        while ((action = actions[0]) && action.delay <= maxFrames) {\n            actions.shift();\n            this.frame = action.delay;\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        }\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\nVirtualTimeScheduler.frameTimeFactor = 10;\nexport class VirtualAction extends AsyncAction {\n    constructor(scheduler, work, index = (scheduler.index += 1)) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.index = index;\n        this.active = true;\n        this.index = scheduler.index = index;\n    }\n    schedule(state, delay = 0) {\n        if (Number.isFinite(delay)) {\n            if (!this.id) {\n                return super.schedule(state, delay);\n            }\n            this.active = false;\n            const action = new VirtualAction(this.scheduler, this.work);\n            this.add(action);\n            return action.schedule(state, delay);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        this.delay = scheduler.frame + delay;\n        const { actions } = scheduler;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        return undefined;\n    }\n    _execute(state, delay) {\n        if (this.active === true) {\n            return super._execute(state, delay);\n        }\n    }\n    static sortActions(a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}